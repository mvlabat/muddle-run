[workspace]
members = [
    "libs/docker_dummy",
    "libs/messages_lib",
    "libs/client_lib",
    "libs/server_lib",
    "libs/shared_lib",
    "libs/unstoppable_resolution",
    "libs/utils_lib",
    "bins/desktop_client",
    "bins/web_client",
    "bins/server",
    "bins/matchmaker",
    "bins/persistence",
]
resolver = "2"

[profile.dev.package."*"]
opt-level = 3

[profile.dev]
opt-level = 1

[patch.crates-io]
bevy = { git = "https://github.com/mvlabat/bevy//", branch = "stage-label-v0.5.0" }
#bevy_rapier2d = { git = "https://github.com/mvlabat/bevy_rapier.git", branch = "bevy-master" }
parry2d = { git = "https://github.com/dimforge/parry", rev = "5c957b9" }
#bevy_webgl2 = { path = "../bevy_webgl2" }
#egui = { path = "../egui/egui" }
#bevy_rapier2d = { path = "../bevy_rapier/bevy_rapier2d" }
#bevy = { path = "../bevy" }
#bevy_egui = { path = "../bevy_egui" }
# If we patch bevy, we need to patch these as well for bevy_networking_turbulence:
#bevy_app = { path = "../bevy/crates/bevy_app" }
#bevy_ecs = { path = "../bevy/crates/bevy_ecs" }
#bevy_tasks = { path = "../bevy/crates/bevy_tasks" }

#bevy_networking_turbulence = { git = "https://github.com/mvlabat/bevy_networking_turbulence.git", branch = "muddle-run" }
naia-client-socket = { git = "https://github.com/mvlabat/naia-socket.git", branch = "muddle-run" }
naia-server-socket = { git = "https://github.com/mvlabat/naia-socket.git", branch = "muddle-run" }
#bevy_networking_turbulence = { path = "../bevy_networking_turbulence" }
#naia-client-socket = { path = "../naia-socket/client" }
#naia-server-socket = { path = "../naia-socket/server" }

bevy-inspector-egui = { git = "https://github.com/mvlabat/bevy-inspector-egui.git", branch = "rapier-0.11" }
#bevy-inspector-egui = { path = "../bevy-inspector-egui" }

#[patch.'https://github.com/bevyengine/bevy']
#bevy = { git = "https://github.com/bevyengine/bevy//" }
